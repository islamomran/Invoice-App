<!DOCTYPE html>
<html lang="en">
<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A simple jQuery image cropping plugin.">
    <meta name="author" content="Chen Fengyuan">
    <title>Invoice</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/cropper.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <link href="https://transloadit.edgly.net/releases/uppy/v1.3.0/uppy.min.css" rel="stylesheet">
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.8/angular.min.js"></script>
    <style>
        /**
     * The dnd-list should always have a min-height,
     * otherwise you can't drop to it once it's empty
     */
        .simpleDemo ul[dnd-list] {
            min-height: 42px;
            padding-left: 0px;
        }

        /**
         * The dndDraggingSource class will be applied to
         * the source element of a drag operation. It makes
         * sense to hide it to give the user the feeling
         * that he's actually moving it.
         */
        .simpleDemo ul[dnd-list] .dndDraggingSource {
            display: none;
        }

        /**
         * An element with .dndPlaceholder class will be
         * added to the dnd-list while the user is dragging
         * over it.
         */
        .simpleDemo ul[dnd-list] .dndPlaceholder {
            background-color: #ddd;
            display: block;
            min-height: 42px;
        }

        .simpleDemo ul[dnd-list] li {
            background-color: #fff;
            border: 1px solid #ddd;
            border-top-right-radius: 4px;
            border-top-left-radius: 4px;
            display: block;
            padding: 10px 15px;
            margin-bottom: -1px;
        }

        /**
         * Show selected elements in green
         */
        .simpleDemo ul[dnd-list] li.selected {
            background-color: #dff0d8;
            color: #3c763d;
        }</style>
</head>
<body class="main">
<nav class="navbar fixed-top bg-light">
</nav>
<!-- header start here -->
<form role="form">

    <div>
        <div class="row header">
            <div class="container">
                <h5>Notifications</h5>
            </div>
        </div>
        <!-- invoice  -->
        <ul dnd-list="list">
            <!-- The dnd-draggable directive makes an element draggable and will
                 transfer the object that was assigned to it. If an element was
                 dragged away, you have to remove it from the original list
                 yourself using the dnd-moved attribute -->
            <li ng-repeat="item in list"
                dnd-draggable="item"
                dnd-moved="list.splice($index, 1)"
                dnd-effect-allowed="move"
                dnd-selected="models.selected = item"
                ng-class="{'selected': models.selected === item}"
            >
                {{item.label}}
            </li>
        </ul>
        <!-- header end -->
        <!-- wrapper start here -->
        <div class="row">
            <div class="col-md-3 pd0">
            </div>
            <div class="col-md-9 pd0">
                <div class="row">
                    <!-- invoice left start -->
                    <div class="col-md-4">
                        <div class="box box-primary">
                            <!-- /.box-header -->
                            <!-- form start -->
                            <div class="box-body">
                                <div class="form-group">
                                    <div class="row">
                                        <label>Supplier Name</label>
                                        <select class="form-control">
                                            <option>option 1</option>
                                            <option>option 2</option>
                                            <option>option 3</option>
                                            <option>option 4</option>
                                            <option>option 5</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label for="invoicenumber">Invoice No.</label>
                                        <input type="text" class="form-control" id="invoicenumber"
                                               placeholder="Enter invoice number">
                                    </div>
                                </div>
                                <hr>
                                <div class="form-group">
                                    <div class="row">
                                        <label for="invoicedate">Invoice Date</label>
                                        <p>12-12-19</p>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="row">
                                        <label for="invoicedate">Customer Name</label>
                                        <p>Ranbir Steel Industry</p>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <table class="border table">
                                        <tr>
                                            <th>Item</th>
                                            <th>Quantity</th>
                                            <th>Ammount</th>
                                        </tr>
                                        <tr>
                                            <td>Item</td>
                                            <td>Quantity</td>
                                            <td>Ammount</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <!-- /.box-body -->
                        </div>
                    </div>
                    <!-- invoice left end -->
                    <!-- invoice right block start -->
                    <div class="col-md-8 pdL0">
                        <div class="box box-primary">
                            <div class="row">
                                <div class="col-md-8  pd0">
                                    <!-- Content -->
                                    <div class="container box-body pdR0">
                                        <div class="row">
                                            <div class="col-md-12 pdL0 docs-buttons">
                                                <div class="btn-group">
                                                    <button type="button" class="btn btn-primary" data-method="zoom"
                                                            data-option="0.1" title="Zoom In">
                                                        <span class="docs-tooltip" data-toggle="tooltip"
                                                              data-animation="false"
                                                              title="$().cropper(&quot;zoom&quot;, 0.1)">
                                                            <span class="fa fa-search-plus"></span>
                                                        </span>
                                                    </button>
                                                    <button type="button" class="btn btn-primary" data-method="zoom"
                                                            data-option="-0.1" title="Zoom Out">
                                                        <span class="docs-tooltip" data-toggle="tooltip"
                                                              data-animation="false"
                                                              title="$().cropper(&quot;zoom&quot;, -0.1)">
                                                            <span class="fa fa-search-minus"></span>
                                                        </span>
                                                    </button>
                                                </div>

                                                <div class="btn-group">
                                                    <button type="button" class="btn btn-primary" data-method="rotate"
                                                            data-option="-5" title="Rotate Left">
                                                        <span class="docs-tooltip" data-toggle="tooltip"
                                                              data-animation="false"
                                                              title="$().cropper(&quot;rotate&quot;, -5)">
                                                            <span class="fa fa-rotate-left"></span>
                                                        </span>
                                                    </button>
                                                    <button type="button" class="btn btn-primary" data-method="rotate"
                                                            data-option="5" title="Rotate Right">
                                                        <span class="docs-tooltip" data-toggle="tooltip"
                                                              data-animation="false"
                                                              title="$().cropper(&quot;rotate&quot;, 5)">
                                                            <span class="fa fa-rotate-right"></span>
                                                        </span>
                                                    </button>
                                                </div>
                                                <div class="btn-group">

                                                    <button type="button" class="btn btn-primary" data-method="scaleY"
                                                            data-option="-1" title="Flip Vertical">
                                                        <span class="docs-tooltip" data-toggle="tooltip"
                                                              data-animation="false"
                                                              title="$().cropper(&quot;scaleY&quot;, -1)">
                                                            <span class="fa fa-arrows-v"></span>
                                                        </span>
                                                    </button>
                                                </div>
                                                <div class="btn-group">
                                                    <button type="button" class="btn btn-primary" data-method="crop"
                                                            title="Crop">
                                                        <span class="docs-tooltip" data-toggle="tooltip"
                                                              data-animation="false"
                                                              title="$().cropper(&quot;crop&quot;)">
                                                            <span class="fa fa-check"></span>
                                                        </span>
                                                    </button>
                                                </div>

                                                <div class="btn-group">
                                                    <button type="button" class="btn btn-primary" data-method="reset"
                                                            title="Reset">
                                                        <span class="docs-tooltip" data-toggle="tooltip"
                                                              data-animation="false"
                                                              title="$().cropper(&quot;reset&quot;)">
                                                            <span class="fa fa-refresh"></span>
                                                        </span>
                                                    </button>
                                                </div>
                                                <div class="btn-group">
                                                    <button id="add_content_to_uppy" type="button"
                                                            class="btn btn-primary">
                                                        save
                                                    </button>
                                                </div>
                                            </div><!-- /.docs-buttons -->
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12 pd0">
                                                <!-- <h3>Demo:</h3> -->
                                                <div class="img-container">
                                                    <img id="image"
                                                         src="https://images.pexels.com/photos/67636/rose-blue-flower-rose-blooms-67636.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"
                                                         alt="Picture">
                                                </div>
                                            </div>
                                        </div>

                                        <!-- uppy file upload -->
                                        <div class="row">
                                            <div class="col-md-10">
                                                <div class="for-ProgressBar"></div>
                                                <div class="uploaded-files ">
                                                    <h5>Files to be updated:</h5>
                                                    <ol></ol>
                                                </div>
                                            </div>
                                            <div class="col-md-2 pd0">
                                                <div class="row">
                                                    <div class="btn-group right">
                                                        <button id="upload-uppy" class="btn btn-sucess"> Update</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                    <!-- Content end here -->
                                </div>
                                <div class="col-md-4 pd0">
                                    <div class="box-body">
                                        <h5 class="heading">List of Invoice</h5>
                                        <ul id="sortable" class="list-group">
                                            <li class="ui-state-default list-group-item">
                                                <!-- drag handle -->
                                                <span class="handle ui-sortable-handle">
                                                    <i class="fa fa-ellipsis-v"></i>
                                                    <i class="fa fa-ellipsis-v"></i>
                                                </span>
                                                <span class="text">Image 1</span>
                                            </li>
                                            <li class="ui-state-default list-group-item">
                                                <!-- drag handle -->
                                                <span class="handle ui-sortable-handle">
                                                    <i class="fa fa-ellipsis-v"></i>
                                                    <i class="fa fa-ellipsis-v"></i>
                                                </span>
                                                <span class="text">Image 2</span>
                                            </li>
                                            <li class="ui-state-default list-group-item">
                                                <!-- drag handle -->
                                                <span class="handle ui-sortable-handle">
                                                    <i class="fa fa-ellipsis-v"></i>
                                                    <i class="fa fa-ellipsis-v"></i>
                                                </span>
                                                <span class="text">Image 3</span>
                                            </li>
                                        </ul>
                                        <!-- See dist/js/pages/dashboard.js to activate the todoList plugin -->
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="row ">
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    <a class="btn btn-primary" id="download" href="javascript:void(0);"
                                       download="cropped.html">Download</a>
                                </div>
                                <div class="button box-body ">
                                    <select cam-variable-name="dataEntryApproval" required
                                            cam-variable-type="String">
                                        <option value="approve">Approve</option>
                                        <option value="reject">Reject</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- invoice right block end -->

                </div>
            </div>
        </div>
    </div>
</form>

<!-- wrapper end here -->
</body>
<!-- Scripts -->
<script>
    angular.module("demo").controller("SimpleDemoController", function($scope) {

        $scope.models = {
            selected: null,
            lists: {"A": [], "B": []}
        };

        // Generate initial model
        for (var i = 1; i <= 3; ++i) {
            $scope.models.lists.A.push({label: "Item A" + i});
            $scope.models.lists.B.push({label: "Item B" + i});
        }

        // Model to JSON for demo purpose
        $scope.$watch('models', function(model) {
            $scope.modelAsJson = angular.toJson(model, true);
        }, true);

    });
</script>
<script src="js/jquery-1.12.4.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/cropper.js"></script>
<script src="js/main.js"></script>
<script src="https://transloadit.edgly.net/releases/uppy/v1.3.0/uppy.min.js"></script>
<script src="bundle.js"></script>

<script>
    var images = [];
    var uppy = Uppy.Core({
        autoProceed: false,
        allowMultipleUploads: true,
        debug: false,
        restrictions: {
            maxFileSize: null,
            maxNumberOfFiles: null,
            minNumberOfFiles: null,
            allowedFileTypes: null
        },
        meta: {}
    })
        .use(Uppy.ProgressBar, {
            target: '.for-ProgressBar',
            hideAfterFinish: false
        })
        .use(Uppy.Tus, { endpoint: 'https://master.tus.io/files/' })
        .on('upload-success', (file, response) => {
        images.push(response.uploadURL);
    $('.uploaded-files ol').empty();
    })
    .on('file-added', (file) => {
        $('.uploaded-files ol').append(`<li id="${file.name}">${file.name}</li>`)
    });
    // .on('file-removed', (file) => {
    //     console.log('Removed file', file)
    // });

    document.querySelector('#upload-uppy').addEventListener('click', () => {
        uppy.upload();
    });

    document.querySelector('#add_content_to_uppy').addEventListener('click', () => {
        let cropper = $('#image').data('cropper');
    cropper.getCroppedCanvas().toBlob((blob) => {
        uppy.addFile({
        name: 'file_name.jpeg', // file name
        type: 'image/jpeg', // file type
        data: blob, // file blob
        source: 'Local',
        isRemote: false
    })
    });
    });

    // .use(Uppy.Dashboard, {
    //     target: '#drag-drop-area',
    //     trigger: '.UppyModalOpenerBtn',
    //     inline: true,
    //     autoProceed: true,
    //     showProgressDetails: true,
    //     height: 50,
    //     metaFields: [
    //         { id: 'name', name: 'Name', placeholder: 'file name' },
    //         { id: 'caption', name: 'Caption', placeholder: 'describe what the image is about' }
    //     ],
    //     browserBackButtonClose: true,
    //     restrictions: {
    //         allowedFileTypes: ['image/*', '.jpg', '.jpeg', '.png', '.gif']
    //     },
    // })

</script>

</html>